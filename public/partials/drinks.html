<p ng-show="message.length" class="alert alert-info">{{message}}</p>

<div class="row">

	<div class="col-md-3">
		<form novalidate name="editForm" class="row" ng-submit="findByFilter()">
			<div class="col-md-12 form-group text">
				<select name="category" ng-model="drinkFilter._category" class="form-control" required 
					ng-options="category._id as (category.name) for category in categories">
					<option value="" selected disabled>Escolha uma Categoria</option>
				</select>	
			</div>
			<div class="col-md-12 form-group">
				<select name="supplier" ng-model="drinkFilter._supplier" class="form-control" required 
					ng-options="supplier._id as (supplier.companyName) for supplier in suppliers">
					<option value="" selected disabled>Escolha um Fornecedor</option>
				</select>	
			</div>
			<div class="col-md-12 form-group">
				<select name="supplier" ng-model="drinkFilter._supplier._id" class="form-control" required 
					ng-controller="ResourceController" ng-options="price._id as (price.value) for price in prices">
					<option value="" selected disabled>Preço</option>
				</select>
			</div>
			<div class="col-md-12 form-group">
				<button type="submit" class="btn btn-primary btn-block" ng-disabled="editForm.$invalid">Filtrar</button>
			</div>
		</form>
	</div>

	<div class="col-md-9">
		
		<div class="col-md-12">
			<div class="input-group">
				<span class="input-group-btn">
					<a href="#/drink/new" class="btn btn-primary" type="button">
						Novo Produto
					</a>
				</span>
				<input class="form-control" placeholder="Pesquisar"	ng-model="filter">
			</div>
		</div>			
		<div class="col-md-12" ng-show="drinks.length">
			<br />
			<form novalidate name="editForm" ng-submit="submit()">
				<div class="table-responsive">
					<table class="table">
					    <thead>
						    <tr>
						    	<!--<th>#</th>-->
						    	<th>Nome</th>
						        <th>Código</th>
						        <th>Fornecedor</th>						        
						        <th>Categoria</th>
						        <th></th>
						    </tr>
					    </thead>
					    <tbody>
					    	<tr ng-repeat="drink in drinks | filter: filter">
						        <!--<td>{{drink._id}}</td>-->
						        <td>{{drink.name}}</td>
						        <td>{{drink.code}}</td>
						        <td>{{drink._supplier.companyName}}</td>						        
						        <td>{{drink._category.name}}
						        <td class="text-center text-nowrap">
						        	<a href="#/drink/edit/{{drink._id}}" class="btn btn-warning">
						        		<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
						        	</a> 
						        	<a ng-click="remove(drink)" class="btn btn-danger">
						        		<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
						        	</a>
						        </td>
					      	</tr>
					    </tbody>
					</table>
				</div>
			</form>
		</div>
	</div>
</div>
